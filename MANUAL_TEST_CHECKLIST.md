# 手动测试清单 - Work TODO Reminder

## 🚀 快速开始

### 1. 加载扩展

- [ ] 打开 Chrome：`chrome://extensions/`
- [ ] 确认开发者模式已开启
- [ ] 点击"加载未打包的扩展程序"
- [ ] 选择目录：`/Users/yugangcao/apps/my-apps/work-todo/dist`
- [ ] 确认扩展图标出现在工具栏

### 2. 检查扩展基本信息

- [ ] 名称：工作 TODO 提醒
- [ ] 版本：1.0.0
- [ ] 权限：storage, alarms, notifications

## ✅ 核心功能测试

### 测试 1：首次配置 (5 分钟)

**步骤：**

1. [ ] 点击扩展图标
2. [ ] 点击右上角齿轮图标进入设置
3. [ ] 配置工作日：选择周一到周五
4. [ ] 设置开始时间：**当前时间 + 2 分钟**
5. [ ] 设置截止时间：**当前时间 + 5 分钟**
6. [ ] 设置间隔：**1 分钟**（测试用，实际建议 15 分钟）
7. [ ] 添加迟到提醒：**当前时间 + 6 分钟**
8. [ ] 输入 TODO 模板：
   ```
   【今日计划】
   - 测试扩展功能
   - 验证提醒机制
   ```
9. [ ] 点击"保存设置"
10. [ ] 确认看到"设置保存成功！"提示

**检查点：**

- [ ] 保存成功提示显示 3 秒后消失
- [ ] 所有配置正确保存

---

### 测试 2：闹钟和通知 (10 分钟)

**前提：** 确保当前时间在开始时间之前

**步骤：**

1. [ ] 等待到达开始时间（2 分钟后）
2. [ ] 观察是否收到系统通知
3. [ ] 检查扩展图标是否显示红色感叹号

**检查点：**

- [ ] 通知标题："提醒：发送今日 TODO"
- [ ] 通知消息："别忘了发送今日工作计划！"
- [ ] 扩展图标显示红色 Badge "!"
- [ ] 点击通知会打开设置页面

**后续提醒：**

- [ ] 等待 1 分钟，应该再次收到提醒
- [ ] 确认间隔提醒正常工作

---

### 测试 3：Popup 界面 (3 分钟)

**步骤：**

1. [ ] 点击扩展图标打开 Popup
2. [ ] 检查状态显示

**检查点：**

- [ ] 标题："工作 TODO 提醒"
- [ ] 当前时间正确显示（每秒更新）
- [ ] 状态徽章显示："待发送 · X 分钟"（距离截止时间）
- [ ] TODO 模板正确显示

**交互测试：**

- [ ] 点击"复制"按钮
  - [ ] 按钮文字变为"已复制！"
  - [ ] 粘贴到文本编辑器，内容正确

---

### 测试 4：标记已发送 (2 分钟)

**步骤：**

1. [ ] 打开 Popup
2. [ ] 点击"标记已发送"按钮

**检查点：**

- [ ] Badge 消失
- [ ] 状态徽章变为："今日已发送"（绿色）
- [ ] "标记已发送"按钮隐藏
- [ ] 后续不再收到提醒（等待超过间隔时间验证）

---

### 测试 5：配置修改 (3 分钟)

**步骤：**

1. [ ] 打开设置页面
2. [ ] 修改 TODO 模板内容
3. [ ] 修改提醒间隔
4. [ ] 保存

**检查点：**

- [ ] 打开 Popup，模板内容已更新
- [ ] Service Worker 日志显示"Config changed, reinitializing alarms..."

**查看日志：**

1. [ ] 在扩展管理页面，找到扩展
2. [ ] 点击"Service Worker"下的"检查视图"
3. [ ] 查看 Console 日志

---

### 测试 6：导入导出 (2 分钟)

**步骤：**

1. [ ] 打开设置页面
2. [ ] 点击"导出配置"
3. [ ] 确认下载 JSON 文件
4. [ ] 修改一些配置
5. [ ] 点击"导入配置"
6. [ ] 选择刚才导出的文件

**检查点：**

- [ ] 导出的 JSON 文件可读
- [ ] 导入后配置恢复到之前的状态
- [ ] 显示"配置导入成功！"提示

---

### 测试 7：工作日判断 (1 分钟)

**步骤：**

1. [ ] 打开设置页面
2. [ ] 取消勾选今天的工作日（如周四）
3. [ ] 保存设置
4. [ ] 打开 Popup

**检查点：**

- [ ] 状态徽章显示："休息日"（灰色）
- [ ] 不会收到提醒

---

### 测试 8：迟到提醒 (5 分钟)

**前提：** 当前时间已过截止时间

**步骤：**

1. [ ] 等待到达迟到提醒时间
2. [ ] 观察是否收到通知

**检查点：**

- [ ] 在截止时间后仍能收到迟到提醒
- [ ] 通知内容相同

---

### 测试 9：次日重置测试 (需要修改系统时间)

**⚠️ 可选测试**（需要修改系统时间）

**步骤：**

1. [ ] 标记今日已发送
2. [ ] 修改系统日期到明天
3. [ ] 重启 Chrome 浏览器
4. [ ] 打开扩展

**检查点：**

- [ ] 状态自动重置为"待发送"
- [ ] 可以继续标记已发送

**恢复：**

- [ ] 改回系统时间

---

## 📱 界面测试

### Popup 界面

- [ ] 宽度 384px（w-96）
- [ ] 渐变色头部（蓝色系）
- [ ] 卡片式布局
- [ ] 响应式设计
- [ ] 图标清晰可见
- [ ] 文字可读性好
- [ ] 动画流畅（复制提示）

### Options 界面

- [ ] 最大宽度 1024px，居中
- [ ] 分段布局清晰
- [ ] 按钮 hover 效果
- [ ] 表单输入正常
- [ ] 底部固定保存按钮
- [ ] 滚动流畅

---

## 🌍 国际化测试

### 中文测试

- [ ] 所有界面显示中文
- [ ] 通知显示中文
- [ ] 时区显示正确

### 英文测试（可选）

1. [ ] Chrome 设置 → 语言 → 添加英语
2. [ ] 重启浏览器
3. [ ] 检查扩展界面

---

## 🔍 Service Worker 调试

### 查看日志

1. [ ] 扩展管理页面 → 找到扩展
2. [ ] 点击"Service Worker"下的"检查视图"
3. [ ] 观察 Console 日志

**应该看到的日志：**

```
Background service worker loaded
Initializing alarms...
Next reminder scheduled at: [时间]
Midnight reset scheduled at: [明天 0:00]
```

**触发提醒后：**

```
Alarm triggered: todo-reminder
Triggering reminder...
Next reminder scheduled at: [下次时间]
```

**标记已发送后：**

```
Message received: {type: 'MARK_SENT'}
Marked as sent, all reminders cleared
```

---

## 🐛 已知问题检查

### 正常行为（非 Bug）

- [ ] 通知点击无法打开 Popup（Chrome 限制）
  - 实际：打开 Options 页面
- [ ] Alarms 最小间隔 1 分钟
- [ ] Service Worker 可能休眠（不影响闹钟）

---

## ✨ 测试完成

### 总结

- [ ] 所有核心功能正常
- [ ] 界面美观易用
- [ ] 性能表现良好
- [ ] 无明显 Bug

### 下一步

- [ ] 日常使用测试（1 周）
- [ ] 收集用户反馈
- [ ] 准备发布

---

**测试人员签名：**  
**测试日期：**  
**测试版本：v1.0.0**
**测试状态：** ☐ 通过 ☐ 失败 ☐ 部分通过
